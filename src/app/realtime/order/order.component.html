<im-nav-bar [pageName]="pagestatus === 'edit' ? '生成工单' : '工单详情'"> </im-nav-bar>
<div class="p-3">
  <form [formGroup]="form">
    <formly-form
      [form]="form"
      [fields]="fields"
      [model]="model"
      [options]="options"
    ></formly-form>

    <ng-container *ngIf="pagestatus === 'edit'">
      <button
        [disabled]="!form.valid || loading"
        class="btn btn-primary btn-block"
        (click)="save()"
      >
        保存
        <div
          *ngIf="loading"
          class="spinner-border spinner-border-sm mr-2"
          role="status"
        ></div>
      </button>
      <button
        type="button"
        [disabled]="!form.valid || loading"
        class="btn btn-info btn-block"
        (click)="saveAndPub()"
      >
        保存并发布
        <div
          *ngIf="loading"
          class="spinner-border spinner-border-sm mr-2"
          role="status"
        ></div>
      </button>
    </ng-container>
  </form>
</div>
